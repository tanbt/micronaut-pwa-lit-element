task copyClientResources(dependsOn: ':client:build') {
    group = 'build'
    description = 'Copy client resources into server'
}
copyClientResources.doFirst {
    copy {
        from "${project(':client').buildDir}/es5-bundled" // make sure path is correct
        into "${project(':server').buildDir}/resources/main/public"
    }
}

task buildClient(dependsOn: 'copyClientResources') {
    group = 'build'
    description = 'Build combined client resources'
}

task buildServer(dependsOn: ':server:shadowJar') {
    group = 'build'
    description = 'Build combined server JAR'
}

task buildAll(dependsOn: ['buildClient', 'buildServer']) {
    group = 'build'
    description = 'Build client resources and server JAR'
}
